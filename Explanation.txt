N最大で1e12をとるため，計算量を落とさなければなりません．
群数列のある値をm/kとします．ここでkは1以上N以下，mは1以上k以下の整数をとります．
cos(2Nπ*m/k)は，2Nπ*m/kが2πの倍数であるならば1になります．
Nm/kが整数であれば2Nπ*m/kが2πの倍数であるといえます．
これはすなわち，Nまたはmが約数にkをもつときです．

今回は後述の理由のために，kがNの約数であるときと考えます．
次にkがNの約数でない場合を考えます．
実はこのとき，ラグランジュの三角恒等式より  (m=1; m<=k)cos(2Nπ*m/k)の総和は0になります．
https://manabitimes.jp/math/741
初項(2Nπ/k), 公比(2Nπ/k), 項数kと考えます．
exp(2Nπ)が1になるため，全体としては0になります．

したがって，kがNの約数のときは1<=m<=kを満たす全てのmについて，
kがNの約数のときはcos(2Nπ*m/k)は1となるため，総和はkとなります．
kがNの約数でない場合はcos(2Nπ*m/k)の総和は0となります．
したがって，今回の求める総和は，Nの約数の総和を求める問題に帰着できます．

Nの約数は，試し割をしていくことでO(logN)で求めることができます．


